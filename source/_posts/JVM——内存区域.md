---
title: JVM 2.1内存区域
comments: true
categories: [Java]
tags: [Java,JVM]
https: //api.r10086.com/樱道随机图片api接口.php?图片系列=动漫综合2
cover: https://api.r10086.com/樱道随机图片api接口.php?图片系列=动漫综合2
---
> 深入理解Java虚拟机：JVM高级特性与最佳实践（第3版）周志明 著 ——学习笔记

![image-20231024204200870](https://ruafafa-photobed.oss-cn-beijing.aliyuncs.com/image-20231024204200870.png)



### 运行时数据区域

- 方法区
- ​	堆
- ​	虚拟机栈
- ​	本地方法栈

![image-20231024204357148](https://ruafafa-photobed.oss-cn-beijing.aliyuncs.com/image-20231024204357148.png)



### 程序计数器(行号指示器)

- ​	特点

  - 线程私有
  - 存值
  - 运行Java方法 -> 虚拟机字节码指令地址
  - 执行Native方法 -> 空 undefined

  

### 虚拟机栈

- ​	包含
  - 栈帧
  - 局部变量表
  - 基本数据类型
  - 对象引用
  - returnsAddress类型
  - 操作数栈
  - 动态连接
  - 方法出口等

- ​	特点

  - 线程私有
  - 生命周期与线程相同

  

### 本地方法栈

为虚拟机使用到的本地方法服务，其余同虚拟机栈

### 堆

- ​	特点
  - 线程共享
  - 存放对象实例
  - 垃圾收集器管理的内存区域
  - 逻辑上连续,内存上随意
- ​	注意
  - Java对象实例都分配在堆上不是绝对的

### 方法区

- ​	特点

  - 线程共享
  - 存储已被虚拟机加载的类型信息、常量、静态变量、即时编译器编译后的代码缓存等数据
  - JDK8 放弃永久代，使用元空间

  

### 运行时常量池

- 包含
  - 常量池表
- 特点	
  - 存放编译期生成的各种字面量与符号引用
  - 具备动态性
  - 编译期和运行期都可以加入
  - 

### 直接内存

​	本机直接内存的分配不会受到Java堆大小的限制，但是，既然是内存，则肯定还是会受到本机总内存（包括物理内存、SWAP分区或者分页文件）大小以及处理器寻址空间的限制



